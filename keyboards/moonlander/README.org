#+title: ZSA Moonlander QMK Config

Custom QMK firmware for the ZSA Moonlander split keyboard (72 keys, STM32 MCU, RGB backlighting).

* Features

- Layouts: Bépo (primary), ErgoL, QWERTY
- Home row mods (280ms tapping term), smart numword layer
- Combos, key overrides, leader key, tap dance
- French accents (US International layout), repeat key

* Build & Flash

#+begin_src bash
./go.sh build   # Build firmware (output: build/qmk_firmware/.build/)
./go.sh flash   # Build and flash (press reset button when prompted)
./go.sh update  # Update QMK submodules
./go.sh clean   # Clean build artifacts
#+end_src

* Keymap Visualization

[[file:../moonlander.svg]]

*Note*: Combo definitions are automatically parsed from =keymap.c= during visualization generation via =parse-combos.sh=.

* Layers

| Layer | Name       | Description                                                      |
|-------+------------+------------------------------------------------------------------|
| L0    | Bépo       | Primary French layout, home row mods, numword activation         |
| L1    | ErgoL      | Alternative French layout                                        |
| L2    | QWERTY     | Standard layout with home row mods                               |
| L3    | Symbols    | Programming symbols, brackets, operators                         |
| L4    | Numbers    | Numpad layout (auto-disable after 5s)                            |
| L5    | Navigation | Arrows, page nav, media controls                                 |
| L6    | Mouse      | Mouse emulation                                                  |
| L7    | Modifiers  | Additional modifiers and function keys                           |

*Home row mods (Bépo)*: Left: A(GUI) U(Alt) I(Shift) E(Ctrl) ,(Hyper) | Right: C(Hyper) T(Ctrl) S(Shift) R(Alt) N(GUI)

* Configuration

** Timing
- Tapping: 280ms | Quick tap: 100ms | Flow: 150ms | Combo: 40ms | Numword timeout: 5s

** Combos & Overrides
- Layer switching, Escape, special chars (|@#$/\&-_=), brackets
- Bépo overrides: Shift+^=!, Shift+.=:, Shift+,=;, Shift+numbers, RAlt+B=|, RAlt+Space=_

** French Accents (US International)
é è ê à â ù û î ô ë ï ç € (uppercase variants supported)

** QMK Features
*Enabled*: Combos, key overrides, leader key, repeat key, tap dance, layer lock
*Disabled*: Audio, caps word, auto shift, console, most RGB effects (size optimization)

* Usage

- *Layout switching*: Bépo (Nav+Shift), ErgoL (Num+Sym), QWERTY (Del+RAlt)
- *Numword*: Hold Space on Bépo layer (auto-disable after 5s)
- *Leader*: Combo D+F on QWERTY
- *Mouse toggle*: Combo Q+R

* Development

Files: =config/{config.h, keymap.c, layermodes.{c,h}, rules.mk}=, =go.sh=

* Inspirations and References

- [[https://docs.qmk.fm/][QMK Documentation]]
- [[https://configure.zsa.io/][ZSA Oryx Configurator]]
- [[https://github.com/manna-harbour/miryoku][Miryoku layout]]
- [[https://sunaku.github.io/home-row-mods.html][Home row mods guide]]
- [[https://bepo.fr][Bépo keyboard layout]]
- [[https://ergol.org][ErgoL keyboard layout]]
